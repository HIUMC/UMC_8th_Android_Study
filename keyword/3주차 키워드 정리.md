- TabLayout
    
    - TabLayout이란 무엇이고, 어떤 기능을 할까요?
        
        - 탭을 보여주는 horizontal 레이아웃.
        - 여러 개의 탭으로 구성되며 각 탭은 이름과 아이콘을 가진다.
        - 탭을 터치하는 등 상호작용을 통해 각 탭과 연결된 Activity 혹은 Fragment로 이동한다.
        - 이전 주차에 학습했던 바텀 네비게이션 바는 탭 레이아웃의 일종이라고 볼 수 있다.
        - [**addOnTabSelectedListener(OnTabSelectedListener)](https://developer.android.com/reference/com/google/android/material/tabs/TabLayout#addOnTabSelectedListener\(com.google.android.material.tabs.TabLayout.OnTabSelectedListener\))** 함수로 탭을 선택했을 때의 상호작용을 정의한다.
    - TabLayout이 사용된 예시에는 무엇이 있을까요?
        
    - 카카오톡의 쇼핑 탭과 북적북적의 내 서재에 TabLayout이 사용되었다.
        
        ![KakaoTalk_Photo_2025-04-01-17-48-44 001.jpeg](attachment:1ba6d715-cebb-4b7e-9c3f-29f07712e3d2:KakaoTalk_Photo_2025-04-01-17-48-44_001.jpeg)
        
    
    ![KakaoTalk_Photo_2025-04-01-17-48-45 002.jpeg](attachment:211b979f-748b-4f1b-b2c9-1ea9dc313f5d:KakaoTalk_Photo_2025-04-01-17-48-45_002.jpeg)
    
    - TabLayout에서 사용할 수 있는 속성들은 무엇이 있을까
        
        |속성|설명|예제|
        |---|---|---|
        |`app:tabMode`|탭 배치 방식 (`fixed` or `scrollable`)|`app:tabMode="fixed"`|
        |`app:tabGravity`|탭 정렬 방식 (`fill` or `center`)|`app:tabGravity="fill"`|
        |`app:tabIndicatorColor`|탭 선택 시 밑줄 색상|`app:tabIndicatorColor="@color/blue"`|
        |`app:tabIndicatorHeight`|탭 선택 시 밑줄 높이|`app:tabIndicatorHeight="4dp"`|
        |`app:tabSelectedTextColor`|선택된 탭 텍스트 색상|`app:tabSelectedTextColor="@color/black"`|
        |`app:tabTextColor`|기본 탭 텍스트 색상|`app:tabTextColor="@color/gray"`|
        |`app:tabIndicatorFullWidth`|인디케이터(밑줄) 너비 설정 (`true` or `false`)|`app:tabIndicatorFullWidth="false"`|
        |`app:tabRippleColor`|탭 클릭 시 효과 색상|`app:tabRippleColor="@null"`|
        
- ViewPager2
    
    - ViewPager란 무엇이고, 어떤 기능을 할까요?
        
        - 사용자가 좌우 혹은 상하로 스와이프해서 페이지(프래그먼트 혹은 뷰)를 바꿀 수 있게 하는 위젯
        - RecyclerView 기반이라 동적 스크롤도 구현할 수 있다.
        - TabLayout과 결합해 사용할 때에는 뷰를 누르는 것 없이 스와이프만으로 뷰를 전환할 수 있게 함.
    - ViewPager가 사용된 예시에는 무엇이 있을까요?
        
        - 보통의 온보딩 스크린에서는 보통 좌우 화살표 또는 페이지를 넘기는 버튼이 있지만 스와이프로도 페이지를 바꿀 수 있음.
        - 앱 상단에 보통 존재하는 배너에서도 보통은 일정 시간이 지나면 자동으로 다음으로 넘어가게 설정되어 있으나 스와이프로도 배너를 변경할 수 있음.
    - ViewPager와 ViewPager2의 차이는 무엇일까요?
        
        ||ViewPager|ViewPager2|
        |---|---|---|
        |**스크롤 방향**|**좌↔우 스크롤만 가능**|**위↕아래 스크롤 가능** (`setOrientation()`)|
        |**어댑터**|`PagerAdapter`, `FragmentPagerAdapter`, `FragmentStatePagerAdapter`|**`FragmentStateAdapter` (RecyclerView 기반)**|
        |**프래그먼트 관리**|전체 프래그먼트를 메모리에 유지|필요할 때만 **로드 & 삭제 (메모리 절약)**|
        |**RecyclerView 지원**|❌ 불가능|✅ `RecyclerView` 기반이라 **리스트 뷰와 유사하게 동작**|
        |**RTL(오른쪽 → 왼쪽) 지원**|❌ 불가능|✅ 가능 (`android:layoutDirection="rtl"`)|
        |**페이지 변경 애니메이션**|제한적 (`PageTransformer`)|더 부드럽고 다양한 애니메이션 가능|
        |**데이터 변경 반영**|`notifyDataSetChanged()`로 업데이트 어려움|`notifyItemChanged()`, `notifyItemInserted()` 가능|
        |**탭과 연결**|`TabLayout.setupWithViewPager()` 사용|`TabLayoutMediator` 사용|
        
    - ViewPager2에서 사용할 수 있는 속성들은 무엇이 있을까요?
        
        - android:orientation: 스와이프 방향 설정
        - `registerOnPageChangeCallback()` 콜백으로 페이지 변경을 감지.
        - RecyclerView 기반 동작
            - `FragmentStateAdapter` : 리사이클러뷰 기반 어댑터 사용
            - `notifyItemChanged(n)`: n번째 항목만 변경
            - `notifyItemInserted(n)` : n번째에 항목 추가
- ViewPager2 설정하기
    
    - ViewPager2를 이용하기 위해 어떤 라이브러리를 사용해야 할까요
        
        ```kotlin
        dependencies {
        		// ViewPager2
            implementation 'androidx.viewpager2:viewpager2:1.0.0'
            
            // TabLayout
            implementation 'com.google.android.material:material:1.10.0'
        }
        ```
        
        - XML에 들어가야 하는 속성도 작성
            
            ```kotlin
            // TabLayout
            <com.google.android.material.tabs.TabLayout
                android:id="@+id/tabLayout"
                android:layout_width="match_parent"
                android:layout_height="wrap_content"
                android:background="?attr/colorPrimary"/>
            
            // ViewPager2
            <androidx.viewpager2.widget.ViewPager2
                android:id="@+id/viewPager"
                android:layout_width="match_parent"
                android:layout_height="match_parent"/>
            ```
            
            - TabLayout과 ViewPager2를 연결하기 위해 코드에서 TabLayoutMediator 설정해야 함.
                
                ```kotlin
                TabLayoutMediator(tabLayout, viewPager) { tab, position ->
                    tab.text = when (position) {
                        0 -> "첫 번째"
                        1 -> "두 번째"
                        2 -> "세 번째"
                        else -> "기본"
                    }
                }.attach()
                ```
                
    - ViewPager2에서 FragmentStateAdapter는 무엇이고 어떤 기능을 할까요?
        
        - 각 페이지를 Fragment로 관리할 수 있도록 도와주는 어댑터.
        - 여러 개의 프래그먼트를 ViewPager2에서 스와이프하며 볼 수 있도록 연결.
        - 기능
            1. **`Fragment`를 동적으로 생성하고 관리**할 수 있음.
                
            2. **메모리 관리 최적화** → 사용하지 않는 프래그먼트는 제거되고, 다시 필요하면 새로 생성됨.
                
                (이전 `ViewPager`의 `FragmentPagerAdapter`보다 성능이 좋음!)
                
            3. `TabLayout`과 함께 사용하면 **탭을 클릭할 때마다 새로운 프래그먼트로 이동 가능**
                
- ViewPager2 Indicator 설정하기
    
    - Indicator란 무엇이고, 어떤 역할을 할까요?
        
        - 사용자가 현재 보고 있는 페이지가 무엇인지 시각적으로 알려주는 UI 요소
            
        - TabLayout에서 현재 선택된 탭에 가로선을 긋는 인디케이터
            
            ```kotlin
            <com.google.android.material.tabs.TabLayout
                android:id="@+id/tabLayout"
                android:layout_width="match_parent"
                android:layout_height="wrap_content"
                app:tabIndicatorColor="@color/black"  // 인디케이터 색
                app:tabIndicatorHeight="4dp"/>  // 인디케이터 두께
            ```
            
        - ViewPager에서 현재 보고 있는 화면이 몇번째인지 알려주는 점 인디케이터
            
            ```kotlin
            <com.tbuonomo.viewpagerdotsindicator.SpringDotsIndicator
                android:id="@+id/dotsIndicator"
                android:layout_width="wrap_content"
                android:layout_height="wrap_content"
                app:dotsColor="@color/black" // 인디케이터 색
                app:dotsSize="10dp"/> // 인디케이터 크기
            ```
            
        - BottomNavigationView에서 현재 선택된 탭의 아이콘 뒤로 배경을 넣는 인디케이터
            
            ```kotlin
            <com.google.android.material.bottomnavigation.BottomNavigationView
                android:id="@+id/bottom_navigation"
                android:layout_width="match_parent"
                android:layout_height="wrap_content"
                app:itemActiveIndicatorStyle="@null"/> // 인디케이터 색
            ```
            
    - ViewPager2에서 Indicator를 설정하려면 어떻게 해야할까요?
        
        - 점 인디케이터 속성을 편집한다.
        
        ```kotlin
        <com.tbuonomo.viewpagerdotsindicator.SpringDotsIndicator
            android:id="@+id/dotsIndicator"
            android:layout_width="wrap_content"
            android:layout_height="wrap_content"
            app:dotsColor="@color/black" // 인디케이터 색
            app:dotsSize="10dp"/> // 인디케이터 크기
        ```